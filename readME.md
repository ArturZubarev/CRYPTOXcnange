Приложение CRYPTOXcnange является симулятором криптовалютной биржи, построенным с использованием REST -принципов.

Запуск приложения:
для запуска необходимо наличие на локальной машине базы данных PostgresQL и Java (версия не ниже 17),
либо среды разработки IntelliJIdea (приложение может работать автономно и без среды разработки).

Для бесперебойной работы и хранения записей приложению нужен доступ к пустой базе данных PostgresQL со следующими
учетными данными:

хост: localhost
порт БД: 5432
имя БД: xchange_db
логин БД: postgres
пароль: postgres

После запуска приложения нужная структура таблиц будет создана автоматически.

Приложение принимает JSON сообщения и преобразует их в Java объекты с помощью контроллеров;
Для удобства использования пользователи с ролью user и пользователи с ролью админ обращаются к разным контроллерам.

**Контроллер администратора.**
адрес для обращения к контроллеру администратора:

http://localhost:8082/admin/;

Endpoint'ы контроллера:

**http://localhost:8082/admin/new**

Принимает JSON следующего вида:
{
"email" : "admin@mail.com",
"userName": "Admin",
"role": "admin"
}

Проверяет наличие пользователя с такими учетными данными, в случае отсутствия генерирует секретную строку.
Сохраняет админа в БД, работает с POST - запросом.

В случае успешной отработки возвращает имя зарегистрированного админа и его секретную фразу:
admin created 689fe577c2be07dc

**http://localhost:8082/admin/all**

Принимает JSON следующего вида:

{
"secret":"689fe577c2be07dc"
}

secret - ключ пользователя, который представляется системе админом.
При совпадении секретных ключей и ролей админ получит перечень пользователей системы в таком виде:

[
{
"email": "admin@trader.com",
"userName": "Admin",
"role": "admin"
},
{
"email": "geoarge@trader.com",
"userName": "George",
"role": "user"
},
{
"email": "mattew@trader.com",
"userName": "Mattew",
"role": "user"
},
]

Выдача секретных ключей произведена не будет.
Обрабатывает GET- запрос.

**http://localhost:8082/admin/curr/price**

Принимает JSON следующего вида:
{
"secret": "92d583b960e3d4ff",
"currency_name" : "BTC",
"currency_price": "30000.00"
}

secret - секретный ключ администратора.
После проверки действительности ключа и принадлежности его администратору системы принмается имя валюты и новая
стоимость за 1 единицу и происходит сохранение в БД.
Обрабатывает PATCH-запрос.

**Контроллер пользователя**

адрес контроллера:

http://localhost:8082/user/

Endpoint'ы контроллера:

**http://localhost:8082/user/creating**
Принимает JSON:
{
"userName": "alfred22",
"email": "alfred22@trader.com",
"role": "user"
}

Проводит проверку уникальности имени и почты пользователя, соответствия роли user.
В случае успешного прохождения проверки возвращает secret для дальнейшей авторизации.

Возвращает username и секретный ключ в ответе:
Peter 517e56d8be05427b
Работает с POST-запросом

**http://localhost:8082/user/curr**

Возвращает информацию о всех доступных к обороту валютах с ценой за одну единицу.
Работает с GET-запросом

**http://localhost:8082/user/rate**

Принимает JSON c наименованием криптовалюты:
{
"currencyName": "BTC"
}

Возвращает массив, содержащий наименование криптовалюты и количество единиц, которые можно купить за одну единицу валюты
из запроса;

{
"BTC": 1.0
},
{
"SOL": 232.5581395348837
},
{
"ETC": 18.181818181818183
},
{
"USD": 30000.0
},
{
"USDT": 30000.0
}

Работает с GET- запросом


**http://localhost:8082/user/wallet/new**

Принимает JSON:

{
"secret": "9754291c3efe2b50",
"currencyName": "SOL",
"balance": "400"
}

Создает новый кошелек для пользователя с указанной валютой.
Работает с POST- запросом.





















